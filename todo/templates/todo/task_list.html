{% extends "base_pages/base.html" %}

{% block content %}
<h1>
	Task list
	<a href="{% url 'todo:task-create' %}" class="btn btn-primary link-to-page">
		Create
	</a>
</h1>

{% if task_list %}
	{% for task in task_list %}
<div class="row">
		<div class="col-md-6" style="background-color:{% if task.done %} green {% endif %}">
			<h5>{{ task.content }}</h5>
			<p><strong>Created at - </strong>{{ task.created_at }}</p>
			{% if task.deadline %}
			<p><strong>Deadline - </strong>{{ task.deadline }}</p>
			{% endif %}
			<div class="inline-block">
				<p><strong>Tags - </strong>
					{% for tag in task.tag.all %}
					{{ tag.name }}
					{% endfor %}
				</p>
			</div>
			<p><strong>Id:</strong> {{ task.id }}</p>
		</div>
<div class="col-md-6 d-flex justify-content-end">
		<div class="inline-block">
			<a href="{% url 'todo:task-update' pk=task.id %}" class="btn btn-primary link-to-page">Update</a>
			<a href="{% url 'todo:task-delete' pk=task.id %}" class="btn btn-primary link-to-page">Delete</a>

			{% if task.done %}
			<a href="{% url 'todo:done-undone' pk=task.id %}" class="btn btn-danger link-to-page">Undo</a>
			{% else %}
			<a href="{% url 'todo:done-undone' pk=task.id %}" class="btn btn-success link-to-page">Complete</a>
			{% endif %}
		</div>
	  </div>
</div>

	{% endfor %}

{% else %}
<h4>No tasks in ToDo list!</h4>
{% endif %}
{% endblock %}
